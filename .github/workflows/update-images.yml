name: Update Images
on:
    push:
        paths:
            - 'images/**'
    workflow_dispatch:
jobs:
    update-images:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4

            - name: Generate JSON file
              run: |
                    #list all images and create JSON file for them
                    IMAGES=$(ls images/*.{jpg, jpeg, png, gif, webp} | jq -R -s -c 'split("\n")[:-1]')
                    echo "{\"images\": $IMAGES}" > images.json
